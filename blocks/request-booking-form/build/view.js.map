{"version":3,"file":"view.js","mappings":"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","sources":["webpack://wddp-dogpension-plugin/./blocks/request-booking-form/src/BookingForm.jsx","webpack://wddp-dogpension-plugin/external window [\"wp\",\"apiFetch\"]","webpack://wddp-dogpension-plugin/external window [\"wp\",\"element\"]","webpack://wddp-dogpension-plugin/external window \"React\"","webpack://wddp-dogpension-plugin/external window \"ReactJSXRuntime\"","webpack://wddp-dogpension-plugin/webpack/bootstrap","webpack://wddp-dogpension-plugin/webpack/runtime/compat get default export","webpack://wddp-dogpension-plugin/webpack/runtime/define property getters","webpack://wddp-dogpension-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://wddp-dogpension-plugin/webpack/runtime/make namespace object","webpack://wddp-dogpension-plugin/./blocks/request-booking-form/src/view.js"],"sourcesContent":["    import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nconst emptyDog = () => ({\r\n    id: Math.random().toString(36).substr(2, 9),\r\n    name: '',\r\n    breed: '',\r\n    age: '',\r\n    weight: '',\r\n    notes: '',\r\n});\r\n\r\n    /* =========================\r\n       Felt-wrapper med info-ikon\r\n       ========================= */\r\n    const FieldWithInfo = ({ label, info, inputId, children, error, showError }) => {\r\n        const [open, setOpen] = useState(false);\r\n\r\n        return (\r\n            <div className=\"mhhc-form-group\">\r\n                <label htmlFor={inputId} className=\"mhhc-label\">\r\n                    {label}\r\n                </label>\r\n\r\n                <div className=\"mhhc-input-row\">\r\n                    <div className=\"mhhc-input-control\">{children}</div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"mhhc-info-icon\"\r\n                        aria-expanded={open}\r\n                        aria-controls={`${inputId}-help`}\r\n                        onClick={() => setOpen((o) => !o)}\r\n                        title=\"Hvorfor er dette påkrævet?\"\r\n                        tabIndex={-1}\r\n                    >❓</button>\r\n                </div>\r\n\r\n                {open && (\r\n                    <div id={`${inputId}-help`} className=\"mhhc-help-text\" role=\"note\">\r\n                        {info}\r\n                    </div>\r\n                )}\r\n\r\n                {showError && error && <div className=\"mhhc-field-error\">{error}</div>}\r\n            </div>\r\n        );\r\n    };\r\n\r\n\r\nconst BookingForm = () => {\r\n    const [fromDate, setFromDate] = useState('');\r\n    const [toDate, setToDate] = useState('');\r\n    const [arrivalTime, setArrivalTime] = useState('');\r\n    const [departureTime, setDepartureTime] = useState('');\r\n    const [dogs, setDogs] = useState([emptyDog()]);\r\n    const [acceptTerms, setAcceptTerms] = useState(false);\r\n\r\n    const [slots, setSlots] = useState([]);\r\n    const [closedPeriods, setClosedPeriods] = useState([]);\r\n    const [todayIso, setTodayIso] = useState(null);\r\n    const [maxDogs, setMaxDogs] = useState(2); // default fallback\r\n\r\n    const [errors, setErrors] = useState({});\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [priceEstimate, setPriceEstimate] = useState(null);\r\n\r\n    // Basispriser (kan overskrives af REST)\r\n    const [priceDog1, setPriceDog1] = useState(250);\r\n    const [priceDog2, setPriceDog2] = useState(200);\r\n    const [specialPrices, setSpecialPrices] = useState([]); // [{from,to,dog1,dog2}, ...]\r\n\r\n    /* =========================\r\n       Utils (datoer)\r\n       ========================= */\r\n    const dateFromISO = (iso) => {\r\n        if (!iso) return null;\r\n        const [y, m, d] = iso.split('-').map(Number);\r\n        return new Date(y, m - 1, d);\r\n    };\r\n    const toISO = (dt) =>\r\n        dt\r\n            ? [\r\n                dt.getFullYear(),\r\n                String(dt.getMonth() + 1).padStart(2, '0'),\r\n                String(dt.getDate()).padStart(2, '0'),\r\n            ].join('-')\r\n            : '';\r\n\r\n    const addDays = (dt, days) => {\r\n        const c = new Date(dt.getFullYear(), dt.getMonth(), dt.getDate());\r\n        c.setDate(c.getDate() + days);\r\n        return c;\r\n    };\r\n\r\n    const rangesOverlap = (aStart, aEnd, bStart, bEnd) =>\r\n        aStart <= bEnd && bStart <= aEnd;\r\n\r\n    const daysInclusive = (from, to) => {\r\n        if (!from || !to) return 0;\r\n        const f = dateFromISO(from),\r\n            t = dateFromISO(to);\r\n        if (!f || !t) return 0;\r\n        const ms = (t - f) / (1000 * 60 * 60 * 24);\r\n        return ms >= 0 ? Math.floor(ms) + 1 : 0; // inkl. samme dag\r\n    };\r\n\r\n    const submitBooking = async () => {\r\n        try {\r\n            const res = await apiFetch({\r\n                path: '/wddp_api/create_booking',\r\n                method: 'POST',\r\n                data: {\r\n                    from_date: fromDate,\r\n                    to_date: toDate,\r\n                    arrival_time: arrivalTime,\r\n                    departure_time: departureTime,\r\n                    price: priceEstimate,\r\n                    dogs,\r\n                },\r\n            });\r\n\r\n            if (res.redirect) {\r\n                window.location.href = res.redirect;\r\n            } else {\r\n                setMessage('Fejl: Manglende redirect URL');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            setMessage('Der opstod en fejl ved oprettelse.');\r\n        }\r\n    };\r\n\r\n\r\n    /* =========================\r\n       Hent config fra REST\r\n       ========================= */\r\n    useEffect(() => {\r\n        apiFetch({ path: '/wddp_api/config' })\r\n            .then((res) => {\r\n                if (Array.isArray(res?.slots)) setSlots(res.slots);\r\n                if (Array.isArray(res?.closedPeriods)) setClosedPeriods(res.closedPeriods);\r\n                if (res?.today) setTodayIso(res.today);\r\n                if(res?.maxDogs) setMaxDogs(res.maxDogs);\r\n\r\n                // Hvis du udsender priser via REST, læs dem her\r\n                if (res?.prices) {\r\n                    if (Number.isFinite(+res.prices.dog1)) setPriceDog1(Number(res.prices.dog1));\r\n                    if (Number.isFinite(+res.prices.dog2)) setPriceDog2(Number(res.prices.dog2));\r\n                    if (Array.isArray(res.prices.special)) setSpecialPrices(res.prices.special);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error('Fejl ved hentning af config:', err);\r\n            });\r\n    }, []);\r\n\r\n    /* =========================\r\n       Dato-validering (live)\r\n       ========================= */\r\n    const validateDates = (f = fromDate, t = toDate) => {\r\n        const out = {};\r\n        const today = todayIso ? dateFromISO(todayIso) : new Date();\r\n        const earliest = addDays(\r\n            new Date(today.getFullYear(), today.getMonth(), today.getDate()),\r\n            1\r\n        );\r\n\r\n        const fD = f ? dateFromISO(f) : null;\r\n        const tD = t ? dateFromISO(t) : null;\r\n\r\n        // Ikke i fortiden – hver for sig\r\n        if (fD && fD < earliest)\r\n            out.fromDate = `Datoer skal være tidligst ${toISO(earliest)} (i morgen).`;\r\n        if (tD && tD < earliest)\r\n            out.toDate = `Datoer skal være tidligst ${toISO(earliest)} (i morgen).`;\r\n\r\n        // Fra ≤ Til – kun når begge er valgt\r\n        if (fD && tD && fD > tD) {\r\n            out.fromDate = 'Fra-dato skal være før eller samme dag som Til-dato.';\r\n            out.toDate = 'Til-dato skal være efter eller samme dag som Fra-dato.';\r\n        }\r\n\r\n        // Lukket periode – kun når begge er valgt og ingen fejl ovenfor\r\n        if (fD && tD && !out.fromDate && !out.toDate) {\r\n            const overlap = closedPeriods.some((cp) => {\r\n                const cFrom = dateFromISO(cp.from);\r\n                const cTo = dateFromISO(cp.to);\r\n                return cFrom && cTo && rangesOverlap(fD, tD, cFrom, cTo);\r\n            });\r\n            if (overlap) {\r\n                out.fromDate = 'De valgte datoer overlapper en lukket periode.';\r\n                out.toDate = 'De valgte datoer overlapper en lukket periode.';\r\n            }\r\n        }\r\n\r\n        return out;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const dErr = validateDates();\r\n        setErrors((prev) => {\r\n            const { fromDate, toDate, ...rest } = prev; // fjern gamle date-fejl\r\n            return { ...rest, ...dErr }; // tilføj nye (hvis nogen)\r\n        });\r\n    }, [fromDate, toDate, todayIso, closedPeriods]);\r\n\r\n    /* =========================\r\n       Special-priser (normaliser)\r\n       ========================= */\r\n    const normSpecial = useMemo(() => {\r\n        const s = Array.isArray(specialPrices) ? specialPrices : [];\r\n        return s\r\n            .map((r) => {\r\n                const f = dateFromISO(r.from);\r\n                const t = dateFromISO(r.to);\r\n                if (!f || !t) return null;\r\n                const fromIso = toISO(f <= t ? f : t);\r\n                const toIso = toISO(f <= t ? t : f);\r\n                const d1 = Number(r.dog1);\r\n                const d2 = Number(r.dog2);\r\n                return {\r\n                    from: fromIso,\r\n                    to: toIso,\r\n                    dog1: Number.isFinite(d1) ? d1 : priceDog1,\r\n                    dog2: Number.isFinite(d2) ? d2 : priceDog2,\r\n                };\r\n            })\r\n            .filter(Boolean);\r\n    }, [specialPrices, priceDog1, priceDog2]);\r\n\r\n    /* =========================\r\n       Prisberegning (guards)\r\n       ========================= */\r\n    const hasBasePrices =\r\n        Number.isFinite(priceDog1) && Number.isFinite(priceDog2);\r\n\r\n    const datesAreValid = useMemo(() => {\r\n        if (!fromDate || !toDate) return false;\r\n        const dErr = validateDates(fromDate, toDate);\r\n        return !dErr.fromDate && !dErr.toDate;\r\n    }, [fromDate, toDate, todayIso, JSON.stringify(closedPeriods)]);\r\n\r\n    const calcPrice = React.useCallback(async () => {\r\n        // grund-guard\r\n        if (!fromDate || !toDate) { setPriceEstimate(null); return; }\r\n\r\n        try {\r\n            const body = {\r\n                fromDate,\r\n                toDate,\r\n                dogsCount: dogs.length\r\n            };\r\n\r\n            const res = await apiFetch({\r\n                path: '/wddp_api/calculatePrice',\r\n                method: 'POST',\r\n                data: body,\r\n            });\r\n\r\n            // succes\r\n            if (res && typeof res.total !== 'undefined') {\r\n                setPriceEstimate(res.total);\r\n                setMessage('');\r\n            }\r\n        } catch (e) {\r\n            // serveren returnerer WP_Error med status 400 ved valideringsfejl\r\n            setPriceEstimate(null);\r\n            setMessage(e?.message || 'Kunne ikke beregne prisen.');\r\n        }\r\n    }, [fromDate, toDate, dogs.length]);\r\n\r\n    useEffect(() => {\r\n        calcPrice();\r\n    }, [calcPrice]);\r\n\r\n    /* =========================\r\n       UI handlers\r\n       ========================= */\r\n    const handleDogChange = useCallback((index, field, value) => {\r\n        setDogs((prev) => {\r\n            const next = [...prev];\r\n            next[index] = { ...next[index], [field]: value };\r\n            return next;\r\n        });\r\n    }, []);\r\n\r\n    const addDog = () => {\r\n        console.log(maxDogs);\r\n        if (dogs.length <= maxDogs) {\r\n            setDogs(prev => [...prev, emptyDog()]);\r\n        }\r\n    };\r\n\r\n    const removeDog = (index) => {\r\n        if (dogs.length > 1) {\r\n            const next = [...dogs];\r\n            next.splice(index, 1);\r\n            setDogs(next);\r\n        }\r\n    };\r\n\r\n\r\n    // Fuldt tjek ved submit (inkl. hunde + checkbox)\r\n    const isEmptyNumber = (v) =>\r\n        v === '' || v === null || Number.isNaN(Number(v));\r\n\r\n    const handleSubmit = () => {\r\n        setSubmitted(true);\r\n\r\n        // 1) dato-fejl\r\n        const dErr = validateDates(fromDate, toDate);\r\n\r\n        // 2) required-tekster (datoer)\r\n        const newErrors = { ...dErr };\r\n        if (!fromDate && !newErrors.fromDate)\r\n            newErrors.fromDate = 'Vælg en fra-dato.';\r\n        if (!toDate && !newErrors.toDate) newErrors.toDate = 'Vælg en til-dato.';\r\n\r\n        // 3) tider (krav)\r\n        if (!arrivalTime) newErrors.arrivalTime = 'Vælg afleverings-tidspunkt.';\r\n        if (!departureTime)\r\n            newErrors.departureTime = 'Vælg afhentnings-tidspunkt.';\r\n        if (arrivalTime && !slots.includes(arrivalTime))\r\n            newErrors.arrivalTime = 'Ugyldigt tidspunkt.';\r\n        if (departureTime && !slots.includes(departureTime))\r\n            newErrors.departureTime = 'Ugyldigt tidspunkt.';\r\n\r\n        // 4) Hund 1 (krævet)\r\n        const h1 = dogs[0] || emptyDog();\r\n        if (!h1.name.trim()) newErrors.dog_0_name = 'Navn er påkrævet.';\r\n        if (!h1.breed.trim()) newErrors.dog_0_breed = 'Race er påkrævet.';\r\n        if (isEmptyNumber(h1.age)) newErrors.dog_0_age = 'Alder er påkrævet.';\r\n        if (isEmptyNumber(h1.weight))\r\n            newErrors.dog_0_weight = 'Vægt er påkrævet.';\r\n\r\n        // 5) Hund 2+ (kun hvis valgt)\r\n        dogs.forEach((dog, i) => {\r\n            if (!dog.name.trim()) newErrors[`dog_${i}_name`] = 'Navn er påkrævet.';\r\n            if (!dog.breed.trim()) newErrors[`dog_${i}_breed`] = 'Race er påkrævet.';\r\n            if (isEmptyNumber(dog.age)) newErrors[`dog_${i}_age`] = 'Alder er påkrævet.';\r\n            if (isEmptyNumber(dog.weight)) newErrors[`dog_${i}_weight`] = 'Vægt er påkrævet.';\r\n        });\r\n\r\n        // 6) Checkbox\r\n        if (!acceptTerms) newErrors.acceptTerms = 'Du skal acceptere betingelserne.';\r\n\r\n        // Gem fejl + besked\r\n        setErrors(newErrors);\r\n        const hasErrors = Object.values(newErrors).some(Boolean);\r\n\r\n        // HVis fejl - så vis ret besked\r\n        if (hasErrors) {\r\n            setMessage('Ret venligst fejlene i formularen.');\r\n            return;\r\n        }\r\n\r\n        // Hvis valid, så udfør booking\r\n        setMessage('Formularen er klar til at blive sendt! ✅');\r\n        submitBooking();\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    // Hjælper til at vise fejl-tekst (datoer = altid live; andre kun efter submit)\r\n    const showError = (key, isDateField = false) => {\r\n        if (!errors[key]) return false;\r\n        return isDateField ? true : submitted;\r\n    };\r\n\r\n    return (\r\n        <div className=\"mhhc-booking-form\">\r\n            <h2>Book en plads i hundepensionen</h2>\r\n\r\n            <div className=\"mhhc-form-grid\">\r\n                <FieldWithInfo\r\n                    label=\"Fra dato\"\r\n                    info=\"Vi skal kende perioden for at reservere plads og beregne prisen.\"\r\n                    inputId=\"fromDate\"\r\n                    error={errors.fromDate}\r\n                    showError={showError('fromDate', true)}\r\n                >\r\n                    <input\r\n                        id=\"fromDate\"\r\n                        type=\"date\"\r\n                        value={fromDate}\r\n                        onChange={(e) => setFromDate(e.target.value)}\r\n                    />\r\n                </FieldWithInfo>\r\n\r\n                <FieldWithInfo\r\n                    label=\"Til dato\"\r\n                    info=\"Vi skal kende perioden for at reservere plads og beregne prisen.\"\r\n                    inputId=\"toDate\"\r\n                    error={errors.toDate}\r\n                    showError={showError('toDate', true)}\r\n                >\r\n                    <input\r\n                        id=\"toDate\"\r\n                        type=\"date\"\r\n                        value={toDate}\r\n                        onChange={(e) => setToDate(e.target.value)}\r\n                    />\r\n                </FieldWithInfo>\r\n            </div>\r\n\r\n            <div className=\"mhhc-form-grid\">\r\n                <FieldWithInfo\r\n                    label=\"Afleveringstidspunkt\"\r\n                    info=\"Hundepensionen har kun åbent for aflevering i bestemte perioder for at skabe ro.\"\r\n                    inputId=\"arrivalTime\"\r\n                    error={errors.arrivalTime}\r\n                    showError={showError('arrivalTime', true)}\r\n                >\r\n                    <select\r\n                        id=\"arrivalTime\"\r\n                        value={arrivalTime}\r\n                        onChange={(e) => setArrivalTime(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Vælg tidspunkt</option>\r\n                        {slots.map((slot, index) => (\r\n                            <option key={index} value={slot}>\r\n                                {slot}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </FieldWithInfo>\r\n\r\n                <FieldWithInfo\r\n                    label=\"Afhentningstidspunkt\"\r\n                    info=\"Hundepensionen har kun åbent for afhentning i bestemte perioder for at skabe ro.\"\r\n                    inputId=\"departureTime\"\r\n                    error={errors.departureTime}\r\n                    showError={showError('departureTime', true)}\r\n                >\r\n                    <select\r\n                        id=\"departureTime\"\r\n                        value={departureTime}\r\n                        onChange={(e) => setDepartureTime(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Vælg tidspunkt</option>\r\n                        {slots.map((slot, index) => (\r\n                            <option key={index} value={slot}>\r\n                                {slot}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </FieldWithInfo>\r\n            </div>\r\n\r\n            <hr />\r\n\r\n            {/* Hunde */}\r\n            {dogs.map((dog, index) => (\r\n                <div key={dog.id} className=\"mhhc-dog-fields\">\r\n                    <h3>Hund {index + 1}</h3>\r\n\r\n\r\n                    <div className=\"mhhc-form-grid\">\r\n                        <FieldWithInfo\r\n                            label=\"Navn\"\r\n                            info=\"Vi vil gerne kende hundens navn.\"\r\n                            inputId={`dog_${index}_name`}\r\n                            error={errors[`dog_${index}_name`]}\r\n                            showError={showError(`dog_${index}_name`)}\r\n                        >\r\n                            <input\r\n                                id={`dog_${index}_name`}\r\n                                type=\"text\"\r\n                                value={dog.name}\r\n                                onChange={(e) => handleDogChange(index, 'name', e.target.value)}\r\n                            />\r\n                        </FieldWithInfo>\r\n\r\n                        <FieldWithInfo\r\n                            label=\"Alder\"\r\n                            info=\"Alderen kan have betydning for pasning af hunden.\"\r\n                            inputId={`dog_${index}_age`}\r\n                            error={errors[`dog_${index}_age`]}\r\n                            showError={showError(`dog_${index}_age`)}\r\n                        >\r\n                            <input\r\n                                id={`dog_${index}_age`}\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                value={dog.age}\r\n                                onChange={(e) => handleDogChange(index, 'age', e.target.value)}\r\n                            />\r\n                        </FieldWithInfo>\r\n                    </div>\r\n\r\n                    <div className=\"mhhc-form-grid\">\r\n                        <FieldWithInfo\r\n                            label=\"Race\"\r\n                            info=\"Race kan påvirke hvor meget plads din hund har behov for.\"\r\n                            inputId={`dog_${index}_breed`}\r\n                            error={errors[`dog_${index}_breed`]}\r\n                            showError={showError(`dog_${index}_breed`)}\r\n                        >\r\n                            <input\r\n                                id={`dog_${index}_breed`}\r\n                                type=\"text\"\r\n                                value={dog.breed}\r\n                                onChange={(e) => handleDogChange(index, 'breed', e.target.value)}\r\n                            />\r\n                        </FieldWithInfo>\r\n\r\n                        <FieldWithInfo\r\n                            label=\"Vægt (kg)\"\r\n                            info=\"Vægt kan påvirke foder og håndtering.\"\r\n                            inputId={`dog_${index}_weight`}\r\n                            error={errors[`dog_${index}_weight`]}\r\n                            showError={showError(`dog_${index}_weight`)}\r\n                        >\r\n                            <input\r\n                                id={`dog_${index}_weight`}\r\n                                type=\"number\"\r\n                                step=\"0.1\"\r\n                                min=\"0\"\r\n                                value={dog.weight}\r\n                                onChange={(e) =>\r\n                                    handleDogChange(index, 'weight', e.target.value)\r\n                                }\r\n                            />\r\n                        </FieldWithInfo>\r\n                    </div>\r\n\r\n                    <div className=\"mhhc-form-group\">\r\n                        <label htmlFor={`dog_${index}_notes`}>Anmærkninger</label>\r\n                        <textarea\r\n                            id={`dog_${index}_notes`}\r\n                            value={dog.notes}\r\n                            onChange={(e) => handleDogChange(index, 'notes', e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ))}\r\n\r\n            {/* Tilføj/Fjern hunde */}\r\n            <div className=\"mhhc-form-buttons\">\r\n                {dogs.length < maxDogs && (\r\n                    <button type=\"button\" onClick={addDog}>\r\n                        ➕ Tilføj hund\r\n                    </button>\r\n                )}\r\n\r\n                {dogs.length > 1 && (\r\n                    <button type=\"button\" onClick={() => removeDog(dogs.length - 1)}>\r\n                        ➖ Fjern sidste hund\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n\r\n            <hr />\r\n\r\n            {/* Checkbox */}\r\n            <div className=\"mhhc-form-group\">\r\n                <label>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={acceptTerms}\r\n                        onChange={(e) => setAcceptTerms(e.target.checked)}\r\n                    />\r\n                    Jeg har læst og accepteret betingelserne\r\n                </label>\r\n                {showError('acceptTerms') && (\r\n                    <div className=\"mhhc-field-error\">{errors.acceptTerms}</div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Infoboks */}\r\n            {message && <div className=\"mhhc-form-message\">{message}</div>}\r\n\r\n            {/* Pris-boks */}\r\n            <div className=\"mhhc-price-box\">\r\n                {priceEstimate !== null ? (\r\n                    <strong>Forventet pris: {priceEstimate} kr.</strong>\r\n                ) : (\r\n                    <span>Udfyld formularen for at se pris</span>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"mhhc-submit-wrapper\">\r\n                <button type=\"button\" onClick={handleSubmit}>\r\n                    Book nu\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookingForm;\r\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from 'react';\r\nimport { createRoot } from '@wordpress/element';\r\nimport BookingForm from './BookingForm.jsx';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const container = document.getElementById('mhhc_hundepension_form');\r\n    if (container) {\r\n        const root = createRoot(container);\r\n        root.render(<BookingForm />);\r\n    }\r\n});"],"names":["React","useState","useEffect","useMemo","useCallback","apiFetch","jsx","_jsx","jsxs","_jsxs","emptyDog","id","Math","random","toString","substr","name","breed","age","weight","notes","FieldWithInfo","label","info","inputId","children","error","showError","open","setOpen","className","htmlFor","type","onClick","o","title","tabIndex","role","BookingForm","fromDate","setFromDate","toDate","setToDate","arrivalTime","setArrivalTime","departureTime","setDepartureTime","dogs","setDogs","acceptTerms","setAcceptTerms","slots","setSlots","closedPeriods","setClosedPeriods","todayIso","setTodayIso","maxDogs","setMaxDogs","errors","setErrors","submitted","setSubmitted","message","setMessage","priceEstimate","setPriceEstimate","priceDog1","setPriceDog1","priceDog2","setPriceDog2","specialPrices","setSpecialPrices","dateFromISO","iso","y","m","d","split","map","Number","Date","toISO","dt","getFullYear","String","getMonth","padStart","getDate","join","addDays","days","c","setDate","rangesOverlap","aStart","aEnd","bStart","bEnd","daysInclusive","from","to","f","t","ms","floor","submitBooking","res","path","method","data","from_date","to_date","arrival_time","departure_time","price","redirect","window","location","href","err","console","then","Array","isArray","today","prices","isFinite","dog1","dog2","special","catch","validateDates","out","earliest","fD","tD","overlap","some","cp","cFrom","cTo","dErr","prev","rest","normSpecial","s","r","fromIso","toIso","d1","d2","filter","Boolean","hasBasePrices","datesAreValid","JSON","stringify","calcPrice","body","dogsCount","length","total","e","handleDogChange","index","field","value","next","addDog","log","removeDog","splice","isEmptyNumber","v","isNaN","handleSubmit","newErrors","includes","h1","trim","dog_0_name","dog_0_breed","dog_0_age","dog_0_weight","forEach","dog","i","hasErrors","Object","values","key","isDateField","onChange","target","slot","min","step","checked","createRoot","document","addEventListener","container","getElementById","root","render"],"ignoreList":[],"sourceRoot":""}